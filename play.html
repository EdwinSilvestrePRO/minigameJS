<!DOCTYPE html>
<html>
	<head>
		<title>titulo</title>
	</head>
	<body>
		<!--Esta será el area que ocuapria el juego, se puede reajustar cuando queramos-->
		<canvas id="lienzo" width="600" height="600"></canvas><br/>
		<div id="left" onclick="moveLeft();">
			<svg height='50'>
				<polyline points="3 30 28 3 28 53"></polyline>
			</svg>
		</div>
		<div id="right" onclick="moveRight();">
			<svg height='50' >
				<polyline points="3 3 30 28 3 53"></polyline>
			</svg>
		<div>
		<script>

			/*Aqui inicia nuestro código*/
			var canvas = document.getElementById("lienzo");
			var ctx = canvas.getContext("2d");

			
			var carX = 255
			var carY = 390
			var contador=0
			
			var lineY = 0
			
			ctx.clearRect(0, 0, canvas.width, canvas.height);

			var fondo = new Image();
			fondo.src = "./images/fondo.png";
			ctx.drawImage(fondo, 0, 0, 600, 600);
			fondo.onload = function(){
				ctx.drawImage(fondo, 0, 0, 600, 600);
			}
				var linea = new Image();
				linea.src = "./images/linea.png";
				ctx.drawImage(linea, 300, lineY, 10, 90);
				linea.onload = function(){
					ctx.drawImage(linea, 300, lineY, 10, 90);
				}

			var coche = new Image();
			coche.src = "./images/coche.png";
			ctx.drawImage(coche, 220, 300, 100, 200);
			coche.onload = function(){
  				ctx.drawImage(coche, 220, 300, 100, 200);
  				//ctx.drawImage(coche, 220, 300, 150, 300);
			}

			function chargeFrames(){
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				var fondo = new Image();
				fondo.src = "./images/fondo.png";
				ctx.drawImage(fondo, 0, 0, 600, 600);
				fondo.onload = function(){
					ctx.drawImage(fondo, 0, 0, 600, 600);
				}

			}

			function drawCar(x, y){
				
				var coche = new Image();
				coche.src = "./images/coche.png";
				ctx.drawImage(coche, x, y, 100, 200);
				coche.onload = function(){
  					ctx.drawImage(coche, x, y, 100, 200);
  					//ctx.drawImage(coche, 220, 300, 150, 300);
				}
			}
			
			function moveLeft(){
				chargeFrames()
				carX = 120
				carY= 390
				drawCar(carX, carY)
			}	

			function moveRight(){
				chargeFrames()
				carX = 370
				carY= 390
				drawCar(carX, carY)
			}

			function drawLine(){
				chargeFrames()
				var linea = new Image();
				linea.src = "./images/linea.png";
				ctx.drawImage(linea, 300, lineY, 10, 90);
				linea.onload = function(){
					ctx.drawImage(linea, 300, lineY, 10, 90);
				}
				if(lineY >=600){
					lineY = 0
				}else if(lineY < 600){
					lineY += 20
				}else{
					contador = 0
				}
				
				drawCar(carX, carY)
			}
			setInterval(drawLine, 30);

			/*function drawCar(){
				ctx.clearRect(0, 0, canvas.width, canvas.height);

				var fondo = new Image();
				fondo.src = "./images/fondo.png";
				ctx.drawImage(fondo, 0, 0, 600, 600);
				fondo.onload = function(){
					ctx.drawImage(fondo, 0, 0, 600, 600);
				}

				var coche = new Image();
				coche.src = "./images/coche2.png";
				ctx.drawImage(coche, x, 300, 150, 300);
				coche.onload = function(){
  					ctx.drawImage(coche, x, 300, 150, 300);
  					//ctx.drawImage(coche, 220, 300, 150, 300);
				}
				if(x <400 && contador==0){
					x += 20
				}else if(x > 50){
					contador=1
					x -= 20
				}else{
					contador = 0
				}
			}
			setInterval(drawCar, 50);*/


		
			/*Aquí termina nuestro código*/
		</script>

	</body>
</html>
